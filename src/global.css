/* Font imports */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');

/* Imports */
@import 'tailwindcss';
@import '@kokimoki/shared/styles.css';

@plugin '@tailwindcss/typography';

@theme {
	/* Add theme styling here */
	--km-font-sans:
		'Noto Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
	--font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
	--font-mono:
		ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
		'Courier New', monospace;

	/* Fresh & Modern Color Palette */
	--color-primary: #14b8a6;
	--color-primary-dark: #0d9488;
	--color-primary-light: #ccfbf1;
	--color-secondary: #64748b;
	--color-secondary-light: #f1f5f9;
	--color-success: #10b981;
	--color-success-light: #d1fae5;
	--color-warning: #f59e0b;
	--color-warning-light: #fef3c7;
	--color-danger: #ef4444;
	--color-danger-light: #fee2e2;
	--color-bg-light: #f8fafc;
	--color-bg-card: #ffffff;
	--color-text-dark: #1f2937;
	--color-border: #ccfbf1;
}

/* Markdown styling with Tailwind Typography (prose) */
.prose {
	--tw-prose-headings: var(--color-slate-900);
	--tw-prose-body: var(--color-slate-900);
	--tw-prose-bold: var(--color-slate-900);
	--tw-prose-links: var(--color-blue-500);
	--tw-prose-bullets: var(--color-slate-500);
	--tw-prose-counters: var(--color-slate-500);
	--tw-prose-quotes: var(--color-slate-900);
	--tw-prose-pre-bg: var(--color-slate-900);
	--tw-prose-pre-code: var(--color-slate-100);
	--tw-prose-hr: var(--color-slate-300);
}

html,
body {
	@apply text-text-dark bg-bg-light overscroll-none;
}

.km-input {
	@apply border-primary bg-bg-light focus:ring-primary w-full max-w-96 rounded-xl border-2 px-5 py-3 transition-colors focus:ring-2 focus:outline-none disabled:opacity-50;
}

.km-btn-primary,
.km-btn-secondary,
.km-btn-error,
.km-btn-neutral {
	@apply inline-flex items-center justify-center gap-3 rounded-xl px-5 py-3 font-medium transition-colors not-disabled:cursor-pointer disabled:cursor-not-allowed disabled:bg-slate-200 disabled:text-slate-500 disabled:opacity-50;
}

.km-btn-primary {
	@apply not-disabled:from-primary not-disabled:bg-gradient-to-r not-disabled:to-cyan-500 not-disabled:text-white not-disabled:hover:scale-105 not-disabled:hover:shadow-lg;
}

.km-btn-secondary {
	@apply not-disabled:bg-secondary-light not-disabled:text-secondary not-disabled:hover:bg-secondary-light/80;
}

.km-btn-error {
	@apply not-disabled:bg-danger not-disabled:text-white not-disabled:hover:bg-red-700 not-disabled:hover:shadow-lg;
}

.km-btn-neutral {
	@apply not-disabled:bg-slate-600 not-disabled:text-white not-disabled:hover:bg-slate-700;
}

/* ============================================
   Animation Keyframes & Utilities
   ============================================ */

@keyframes km-spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

@keyframes km-pulse {
	0%,
	100% {
		opacity: 1;
		transform: scale(1);
	}
	50% {
		opacity: 0.7;
		transform: scale(0.95);
	}
}

@keyframes km-bounce {
	0%,
	100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-25%);
	}
}

@keyframes km-bounce-dots {
	0%,
	80%,
	100% {
		transform: translateY(0);
	}
	40% {
		transform: translateY(-8px);
	}
}

@keyframes km-shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

@keyframes km-float {
	0%,
	100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-8px);
	}
}

@keyframes km-star-pop {
	0% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.4);
	}
	100% {
		transform: scale(1.2);
	}
}

@keyframes km-fade-in {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Spinner utility classes */
.km-spinner {
	@apply inline-block rounded-full border-2 border-current border-t-transparent;
	animation: km-spin 0.8s linear infinite;
}

.km-spinner-sm {
	@apply size-4;
}

.km-spinner-md {
	@apply size-5;
}

.km-spinner-lg {
	@apply size-6;
}

/* Bouncing dots loader */
.km-dots-loader {
	@apply inline-flex items-center gap-1;
}

.km-dots-loader span {
	@apply bg-primary size-3 rounded-full;
	animation: km-bounce-dots 1.4s ease-in-out infinite;
}

.km-dots-loader span:nth-child(1) {
	animation-delay: 0s;
}

.km-dots-loader span:nth-child(2) {
	animation-delay: 0.16s;
}

.km-dots-loader span:nth-child(3) {
	animation-delay: 0.32s;
}

/* Card animations */
.km-card-float {
	animation: km-float 3s ease-in-out infinite;
}

.km-fade-in {
	animation: km-fade-in 0.4s ease-out forwards;
}

/* Star rating animations */
.km-star {
	@apply transform cursor-pointer transition-all duration-200;
}

.km-star:hover {
	@apply scale-125;
}

.km-star-selected {
	animation: km-star-pop 0.3s ease-out forwards;
	filter: drop-shadow(0 0 8px rgba(250, 204, 21, 0.6));
}

.km-star-unselected {
	@apply text-slate-300 hover:text-yellow-200;
}

/* Shimmer effect for loading states */
.km-shimmer {
	background: linear-gradient(
		90deg,
		transparent 0%,
		rgba(255, 255, 255, 0.4) 50%,
		transparent 100%
	);
	background-size: 200% 100%;
	animation: km-shimmer 1.5s infinite;
}

/* Pulse animation class */
.km-pulse {
	animation: km-pulse 2s ease-in-out infinite;
}
